---
interface Props {
  currentPage?: string;
}

const { currentPage = '' } = Astro.props;

const navItems = [
  { label: 'Features', href: '/features' },
  { label: 'Pricing', href: '/pricing' },
  { label: 'Compare', href: '/compare' },
  { label: 'About', href: '/about' },
  { label: 'Blog', href: '/blog' },
];
---

<header class="fixed top-0 left-0 right-0 z-50 bg-void/80 backdrop-blur-md border-b border-void-200/50">
  <div class="container-wide flex items-center justify-between h-16">
    <a href="/" class="text-parchment font-serif text-xl tracking-tight">Stey</a>

    <!-- Desktop Navigation -->
    <nav class="hidden md:flex items-center gap-6">
      {navItems.map((item) => (
        <a
          href={item.href}
          class={`text-sm transition-colors ${currentPage === item.href ? 'text-parchment' : 'text-parchment-muted hover:text-parchment'}`}
        >
          {item.label}
        </a>
      ))}
    </nav>

    <div class="flex items-center gap-4">
      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-btn"
        class="md:hidden text-parchment-muted hover:text-parchment p-2"
        aria-label="Open menu"
        aria-expanded="false"
      >
        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>

      <a href="/#download" class="hidden sm:inline-flex text-sm text-void bg-parchment hover:bg-ember px-4 py-2 transition-colors">
        Download Free
      </a>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden md:hidden bg-void border-t border-void-200/50">
    <nav class="container-wide py-4 flex flex-col gap-4">
      {navItems.map((item) => (
        <a
          href={item.href}
          class={`text-sm transition-colors ${currentPage === item.href ? 'text-parchment' : 'text-parchment-muted hover:text-parchment'}`}
        >
          {item.label}
        </a>
      ))}
      <a href="/#download" class="text-sm text-ember hover:text-parchment transition-colors mt-2">
        Download Free â†’
      </a>
    </nav>
  </div>
</header>

<script>
  const menuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');

  menuBtn?.addEventListener('click', () => {
    const isOpen = mobileMenu?.classList.toggle('hidden');
    menuBtn.setAttribute('aria-expanded', isOpen ? 'false' : 'true');
  });
</script>
